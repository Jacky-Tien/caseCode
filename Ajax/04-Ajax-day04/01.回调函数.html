<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
</head>

<body>
    <script>
        // 回调函数: 是匿名函数, 由别的地方调用的
        // setInterval(function () {
        //     // 谁调用了这个函数, 函数内的this就指向谁
        //     console.log(this) // window
        // }, 1000)

        // 数组相关方法 filter 过滤 (从一个数组中获取符合条件的数据形成一个新的数组)
        var arr = [2, 22, 432, 6, 34, 4, 675, 10, 88]
        // 需求 过滤出小于10的数字
        var ret = arr.filter((ele, i) => {
            if (ele < 10) {
                return ele
            }
        })
        console.log(ret);


        // 需求: 自定义一个filter方法, 功能和数组的filter方法一致
        Array.prototype.myFilter = function (callback) {
            var newArr = []

            // 原生for循环
            /* for (var i = 0; i < this.length; i++) {
                if (callback(this[i])) {
                    newArr.push(this[i])
                }
            } */

            // forEach
            this.forEach(item => {
                // 判断是否有下面的数据是否符合条件
                if (callback(item)) {
                    newArr.push(item)
                }
            });

            /* this.forEach(function (item, i) {
                if (callback(this[i])) {
                    newArr.push(this[i])
                }
            }.bind(this)) */

            return newArr
        }

        var myRet = arr.myFilter(function (num) {
            return num < 10
        })
        console.log(myRet)
    </script>
</body>

</html>